.carouselWrapper {
  width: 100%;
  overflow: hidden;
  position: relative;
  z-index: 5;
}

.carouselContainer {
  width: 100%;
  overflow: hidden;
}

:has([data-row="top"]) .carouselContainer {
  padding-top: var(--spacing-80);
}

:has([data-row="bottom"]) .carouselContainer {
  padding-bottom: var(--spacing-80);
}

.carouselTrack {
  display: flex;
  gap: var(--spacing-15);
  padding: 7.5px var(--spacing-40);
  will-change: transform;

  &[data-direction="left"] {
    animation: scrollLeft 40s linear infinite;
  }

  &[data-direction="right"] {
    animation: scrollRight 40s linear infinite;
  }

  @media screen and (max-width: 770px) {
    padding: 7.5px 0;
  }
}

// The key is to calculate the exact distance of one complete set
// With 5 images at 388px each + 4 gaps of 15px = 1940px + 60px = 2000px per set
// Since we have 3 copies (15 images total), we need to move exactly 2000px (one set)
@keyframes scrollLeft {
  from {
    transform: translateX(0);
  }
  to {
    // Move by exactly the width of one set: (5 * 388px) + (4 * 15px) = 2000px
    transform: translateX(calc(-1 * ((388px * 5) + (15px * 4))));
  }
}

@keyframes scrollRight {
  from {
    // Start at -1 set width so it appears to scroll right
    transform: translateX(calc(-1 * ((388px * 5) + (15px * 4))));
  }
  to {
    transform: translateX(0);
  }
}

.slide {
  flex-shrink: 0;
  width: 388px;
  height: 218px;
  position: relative;
}

.carouselImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

// Pause on hover
.carouselContainer:hover .carouselTrack {
  animation-play-state: paused;
}
